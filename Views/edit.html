<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Editar Produto</title>
</head>
<body>
    <h1>Editar Produto</h1>
    <form id="formEditar" method="post">
        <label for="nome">Nome: </label>
        <input type="text" id="nome" name="nome" required><br><br>
        <label for="preco">Preço: </label>
        <input type="number" step="0.01" id="preco" name="preco" required><br><br>
        <label for="categoria">Categoria: </label>
        <input type="text" id="categoria" name="categoria" required><br><br>
        <button type="submit">Atualizar</button>
    </form>
    <a href="/index.html">Voltar à lista</a>
    <script>
    const params = new URLSearchParams(window.location.search);
        const id = params.get("id");
        fetch(`/produtos`)
            .then(res => res.json())
            .then(data => {
                const produto = data.find(p => p.id == id);
                if (produto) {
                    document.getElementById("nome").value = produto.nome;
                    document.getElementById("preco").value = produto.preco;
                    document.getElementById("categoria").value = produto.categoria;
                }
            });
        document.getElementById("formEditar").action = `/produtos/${id}`;</script>
</body>
</html>